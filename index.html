<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bucle de duplicación</title>
  <style>
    body { font-family: system-ui, sans-serif; display:flex; align-items:center; justify-content:center; height:100vh; margin:0; background:#f4f6f8; }
    .card { text-align:center; background:white; padding:24px; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.08); width:320px; }
    .count { font-size:48px; margin:8px 0; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Bucle de duplicación</h2>
    <div>En <span id="open">5</span>s se abrirá una copia</div>
    <div>En <span id="close">10</span>s esta pestaña se cerrará</div>
  </div>

  <script>
    (function(){
      let openSec = 2;
      let closeSec = 10;

      const openEl = document.getElementById('open');
      const closeEl = document.getElementById('close');

      const timer = setInterval(() => {
        openSec--;
        closeSec--;

        openEl.textContent = openSec >= 0 ? openSec : 0;
        closeEl.textContent = closeSec >= 0 ? closeSec : 0;

        // Abrir copia a los 5s
        if (openSec === 0) {
          window.open(window.location.href, '_blank');
        }

        // Cerrar a los 10s
        if (closeSec === 0) {
          clearInterval(timer);
          window.close();
        }
      }, 100);
    })();
  </script>
</body>
</html>
